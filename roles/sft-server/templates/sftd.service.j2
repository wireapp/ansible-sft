[Unit]
Description=Running service: SFT server

After=network-online.target
Wants=network-online.target


[Service]
TimeoutStartSec=0
Restart=always

# maximum size of core files (bytes)
LimitCORE=infinity
LimitCORESoft=0

LimitNOFILE={{ SFTD_LIMIT_NOFILE }}

User={{ SFTD_USER }}
Group={{ SFTD_GROUP }}

ExecStart={{ SFT_BIN_PATH }} \
            -I '{{ SFTD_INCOMING_IP }}' \
            -A '{{ sft_public_ip }}' \
            {% if sft_uuid is defined %}-u '{{ sft_uuid }}' \{% endif -%}
            -s


[Install]
WantedBy=multi-user.target
